{"version":3,"sources":["app.js","github.js","instagram.js","portfolio.js"],"names":["_classCallCheck","instance","Constructor","TypeError","App","plugins","$","Object","keys","forEach","p","run","win","window","scrollState","checkScroll","st","scrollTop","off","setTimeout","on","addClass","removeClass","TOKEN","USERNAME","github","_this","this","apiUri","repoPath","query","store","localStorage","sortOrder","cutAt","cache","getItem","JSON","parse","ts","now","Date","getTime","_handleData","data","s","getJSON","then","r","o","setItem","stringify","fail","err","console","error","t","empty","sort","a","b","watchers_count","tmp","name","undefined","obj","i","j","x","length","splice","push","concat","cnt","cls","row","description","fork","language","stargazers_count","html_url","append","more","insertAfter","find","requestAnimationFrame","fadeOut","remove","ACCESS_TOKEN","USER_ID","instagram","url","done","e","d","link","caption","text","images","low_resolution","width","height","likes","count","comments","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","prototype","portfolio","buttons","closeAll","btn","state","button","states","CLOSED","clearInterval","close","viewArea","va","loader","cont","currentRow","isOpen","animIntval","clrs","init","html","hide","idcnt","display","color","href","copy","isCopy","attr","rid","clone","_cont","fadeIn","get","top","offset","animate","join","el","_elem","_href","_clr","_ivals","_onclick","value","_this2","OPENING","closest","open","OPENED","animationInterval","_this3","CLOSING","which","clearTimeout","_this4","each"],"mappings":"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","file":"app.min.js","sourcesContent":["/* exports App */\n\n(function() {\n  'use strict';\n  let App = {\n    plugins: {}\n  };\n\n  $(() => {\n    Object.keys(App.plugins).forEach(p => {\n      App.plugins[p].run();\n    });\n  });\n\n  let win = $(window);\n  let scrollState = 0;\n  let checkScroll = () => {\n    let st = win.scrollTop();\n\n    if (st > 100) {\n      if (scrollState === 2) {\n        return;\n      }\n\n      win.off('scroll');\n      setTimeout(() => {\n        win.on('scroll', checkScroll);\n      }, 500);\n\n      scrollState = 2;\n      $('header').addClass('scrolled');\n    }\n    else {\n      if (scrollState === 1) {\n        return;\n      }\n\n      win.off('scroll');\n      setTimeout(() => {\n        win.on('scroll', checkScroll);\n      }, 500);\n      scrollState = 1;\n      $('header').removeClass('scrolled');\n    }\n  };\n\n  win.on('scroll', checkScroll);\n\n  window.App = App;\n\n}());","/* global App $ */\n\n(function() {\n  'use strict';\n\n  const TOKEN = '7a1785a8e3d036cf2174e4b7e80b6f70b3b1faca';\n  const USERNAME = 'poppa';\n\n  App.plugins.github = (new function() {\n    let apiUri = 'https://api.github.com';\n    let repoPath = `/users/${USERNAME}/repos`;\n    let query = `?token=${TOKEN}&auth=oauth&callback=?`;\n    let store = localStorage;\n    let sortOrder = [ 'Pike-Modules', 'jsvault', 'Roxen-Application-Launcher',\n                      'php-lime-pro', 'java-lime-pro', 'csharp-lime-pro',\n                      'pike-for-sublime' ];\n    let cutAt = 9;\n\n    this.run = () => {\n      let cache = store.getItem('github');\n\n      if (cache) {\n        cache = JSON.parse(cache);\n        let ts = cache.ts/1000;\n        let now = new Date().getTime()/1000;\n        if (now-ts < 60*60*4) { // Four hours\n          this._handleData(cache.data);\n          return;\n        }\n      }\n\n      let s = apiUri + repoPath + query + '&sort=updated';\n\n      $.getJSON(s)\n      .then((r) => {\n        let o = {\n          ts: new Date().getTime(),\n          data: r\n        };\n\n        store.setItem('github', JSON.stringify(o));\n        this._handleData(r);\n      })\n      .fail((err) => {\n        window.console.error('Fail: ', err);\n      });\n    };\n\n    this._handleData = (data) => {\n      let t = $('#github');\n      t.empty();\n      data.data.sort((a, b) => {\n        return a.watchers_count < b.watchers_count\n          ? 1\n          : a.watchers_count === b.watchers_count\n            ? 0\n            : -1;\n      });\n\n      let tmp = [],\n        name = undefined,\n        obj = undefined,\n        i = 0, j = 0, x = undefined;\n\n      for (; i < sortOrder.length; i++) {\n        name = sortOrder[i];\n\n        for (j = 0; j < data.data.length; j++) {\n          obj = data.data[j];\n          if (obj.name === name) {\n            x = data.data.splice(j, 1);\n            tmp.push(x[0]);\n            break;\n          }\n        }\n      }\n\n      data.data = tmp.concat(data.data);\n\n      let cnt = 0, cls = '';\n      data.data.forEach((row) => {\n        if (cnt >= cutAt) {\n          cls = ' hidden';\n        }\n        let s = `<li class='col-md-4 col-xs-6${cls}'>\n          <div class='wrapper'>\n            <h3>${row.name}</h3>\n            <p>${row.description}</p>\n            <div class='meta'>`;\n\n        if (row.fork) {\n          s += '<i class=\"item fa fa-code-fork\"></i>';\n        }\n\n        s += `<span class='item'>${row.language || 'Misc'}</span>`;\n        s += `<span class='item'><i class='fa fa-star'></i> ${row.stargazers_count}</span>`;\n        s += `<span class='item'><i class='fa fa-eye'></i> ${row.watchers_count}</span>`;\n        s += `<a href='${row.html_url}' class='item' target='github'><i class='fa fa-github'></i> View on Github</a>`;\n\n        s += '</div></div></li>';\n\n        t.append(s);\n\n        cnt += 1;\n      });\n\n      let more = $('<button class=\"more\">Show more</button>');\n      more.insertAfter(t);\n\n      more.on('click', function() {\n\n        t.find('li.hidden').addClass('transition').removeClass('hidden');\n        window.requestAnimationFrame(() => {\n          t.find('li.transition').removeClass('transition');\n        });\n        $(this).fadeOut('fast', function() {\n          $(this).remove();\n        });\n      });\n    };\n  }());\n\n\n}());","/* global App $ localStorage */\n\n(function() {\n  'use strict';\n  const ACCESS_TOKEN  = '40563140.5d854a2.bf2dc58a4abc46478f3be8b43bc1e53b';\n  const USER_ID       = '40563140';\n  const store = localStorage;\n\n  App.plugins.instagram = (new function() {\n    this.run = () => {\n      let cache = store.getItem('instagram');\n\n      if (cache) {\n        cache = JSON.parse(cache);\n        let ts = cache.ts/1000;\n        let now = new Date().getTime()/1000;\n\n        if (now-ts < 600) {\n          this._handleData(cache.data);\n          return;\n        }\n      }\n\n      let url = `https://api.instagram.com/v1/users/${USER_ID}/media/recent/` +\n        '?access_token=' + ACCESS_TOKEN +\n        '&count=4' +\n        '&callback=?';\n\n      $.getJSON(url)\n      .done(data => {\n        let o = {\n          ts: new Date().getTime(),\n          data: data\n        };\n        store.setItem('instagram', JSON.stringify(o));\n        this._handleData(data);\n      })\n      .fail((e) => {\n        window.console.error('Error: ', e);\n        let t = $('#instagram li');\n        t.empty().append('<div class=\"notify icon error on-dark\">Unable to connect to Instagram!</div>');\n      });\n    };\n\n    this._handleData = d => {\n      let t = $('#instagram');\n      t.empty();\n      d.data.forEach(row => {\n        let s = `<li class=\"col-md-3 col-xs-6\">\n            <a href=\"${row.link}\" target=\"ig\">\n              <span class=\"overlay top\">${row.caption.text}</span>\n              <img src=\"${row.images.low_resolution.url}\"\n                   width=\"${row.images.low_resolution.width}\"\n                   height=\"${row.images.low_resolution.height}\">\n              <span class=\"ig-overlay\">\n                <i class=\"fa fa-instagram\"></i>\n                <span>View on Instagram</span>\n              </span>\n              <span class=\"overlay bottom\">\n                <span class=\"likes\"><i class=\"fa fa-thumbs-up\"></i> ${row.likes.count}</span>\n                <span class=\"comments\"><i class=\"fa fa-comments\"></i> ${row.comments.count}</span>\n              </span>\n            </a>\n          </li>`;\n\n        t.append(s);\n      });\n    };\n  }());\n}());\n","/* global App */\n\n(function() {\n  'use strict';\n\n  App.plugins.portfolio = (new function() {\n    const buttons = [];\n    // let current = null;\n\n    const closeAll = (btn) => {\n      buttons.forEach((b) => {\n        if (b !== btn && (b.state & button.states.CLOSED) !== b.state) {\n          b.clearInterval().close();\n        }\n      });\n    };\n\n    const viewArea = (new function() {\n      let va       = null,\n        loader     = null,\n        cont       = null,\n        currentRow = null,\n        isOpen     = false,\n        animIntval = 600,\n        clrs       = [ 'blue', 'cyan', 'magenta', 'purple', 'green', 'orange' ];\n\n      const init = () => {\n        va = $('<div>').addClass('viewarea');\n        cont = $('<div>').addClass('content');\n        loader = $('<div>').addClass('loading').html('<i class=\"fa fa-spinner fa-spin\"></i> Loading...').hide();\n        va.append(cont);\n      };\n\n      let idcnt = 0;\n\n      this.display = (row, color, href) => {\n        let copy = va, isCopy = false;\n\n        if (!row.attr('id')) {\n          row.attr('id', '__row' + (idcnt++));\n        }\n\n        const rid = row.attr('id');\n\n        if (currentRow && rid !== currentRow) {\n          copy = va.clone(true);\n          isCopy = true;\n        }\n\n        let _cont = copy.find('div.content');\n\n        if (isOpen) {\n          _cont.addClass('closing');\n        }\n\n        va.addClass('opening');\n\n        // setTimeout(() => {\n          va.append(loader);\n          loader.fadeIn('fast');\n          $.get('portfolio/' + href)\n          .then((data) => {\n            loader.fadeOut('fast');\n            cont.empty().append(data).removeClass('closing').addClass('opening');\n\n            let top = row.offset().top - $('header').height() - 17;\n            $('html,body').animate({\n              scrollTop: top\n            }, 700);\n\n            setTimeout(() => {\n              cont.addClass('opened').removeClass('opening');\n            }, animIntval);\n          })\n          .fail((err) => {\n            window.console.error('Error: ', err);\n            cont.empty().removeClass('closing opening');\n          });\n        // }, animIntval);\n\n        requestAnimationFrame(() => {\n          va.removeClass(clrs.join(' ')).addClass(color||clrs[0]);\n        });\n\n        if (isCopy) {\n          copy.hide();\n          va.removeClass('opened');\n          copy.insertAfter(va);\n          copy.removeClass('opened').addClass('closing');\n          setTimeout(() => {\n            copy.removeClass('closing');\n          }, animIntval);\n        }\n\n        va.insertAfter(row);\n        va.addClass('opening');\n        setTimeout(() => {\n          va.addClass('opened').removeClass('opening');\n        }, animIntval);\n        currentRow = rid;\n        isOpen = true;\n      };\n\n      this.close = () => {\n        va.addClass('closing').removeClass('opened');\n        setTimeout(() => {\n          va.removeClass('closing');\n        }, animIntval);\n        isOpen = false;\n        currentRow = null;\n      };\n\n      // On DOM ready\n      $(() => { init(); });\n    }());\n\n    class button {\n\n      constructor(el) {\n        this.state  = button.states.CLOSED;\n        this._elem  = el;\n        this._href  = el.attr('data-portfolio');\n        this._clr   = el.attr('data-color') || 'purple';\n        this._ivals = {};\n\n        el.on('click', () => { return this._onclick(); });\n      }\n\n      open() {\n        closeAll(this);\n        this.clearInterval();\n        this.state = button.states.OPENING;\n        this._elem.addClass('opening').removeClass('closing closed opened');\n\n        viewArea.display(this._elem.closest('.flexrow'), this._clr, this._href);\n\n        this._ivals.open = setTimeout(() => {\n          this._elem.addClass('opened ' + this._clr).removeClass('opening');\n          this.state = button.states.OPENED;\n        }, button.animationInterval);\n\n        return this;\n      }\n\n      close() {\n        this.clearInterval();\n        this.state = button.states.CLOSING;\n        this._elem.addClass('closing').removeClass('opened opening closed');\n\n        this._ivals.close = setTimeout(() => {\n          this.state = button.states.CLOSED;\n          this._elem.removeClass('closing');\n        }, button.animationInterval);\n\n        return this;\n      }\n\n      clearInterval(which) {\n        if (which) {\n          if (this._ivals[which]) {\n            clearTimeout(this._ivals[which]);\n          }\n          return this;\n        }\n        if (this._ivals.open) {\n          clearTimeout(this._ivals.open);\n        }\n        if (this._ivals.close) {\n          clearTimeout(this._ivals.close);\n        }\n\n        return this;\n      }\n\n      _onclick() {\n        requestAnimationFrame(() => {\n          if ((button.states.OPENING|button.states.OPENED) & this.state) {\n            this.close();\n            viewArea.close();\n          }\n          else {\n            this.open();\n          }\n        });\n\n        return false;\n      }\n    }\n\n    button.animationInterval = 600;\n\n    button.states = {\n      CLOSED:  1,\n      OPENED:  2,\n      OPENING: 4,\n      CLOSING: 8\n    };\n\n    this.run = () => {\n      $('[data-portfolio').each((i, el) => {\n        el = $(el);\n        let b = new button(el);\n        buttons.push(b);\n      });\n\n    };\n  }());\n\n}());"],"sourceRoot":"/source/"}