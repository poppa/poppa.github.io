{"version":3,"sources":["app.js","github.js","instagram.js","portfolio.js"],"names":["_classCallCheck","instance","Constructor","TypeError","App","plugins","$","Object","keys","forEach","p","run","win","window","scrollState","checkScroll","st","scrollTop","off","setTimeout","on","addClass","removeClass","TOKEN","USERNAME","github","_this","this","apiUri","repoPath","query","store","localStorage","sortOrder","cutAt","cache","getItem","JSON","parse","ts","now","Date","getTime","_handleData","data","s","getJSON","then","r","o","setItem","stringify","fail","err","console","error","t","empty","sort","a","b","watchers_count","tmp","name","obj","i","j","x","length","splice","push","concat","cnt","cls","row","description","fork","language","stargazers_count","html_url","append","more","insertAfter","find","requestAnimationFrame","fadeOut","remove","ACCESS_TOKEN","USER_ID","instagram","url","done","e","d","link","caption","text","images","low_resolution","width","height","likes","count","comments","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","prototype","portfolio","buttons","closeAll","btn","state","button","states","CLOSED","clearInterval","close","_viewArea","va","loader","cont","currentRow","isOpen","animIntval","clrs","init","html","hide","idcnt","display","color","href","copy","isCopy","attr","rid","clone","_cont","fadeIn","get","top","offset","animate","join","viewArea","el","_elem","_href","_clr","_ivals","_onclick","value","_this2","OPENING","closest","open","OPENED","animationInterval","_this3","CLOSING","which","clearTimeout","_this4","each"],"mappings":"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","file":"app.min.js","sourcesContent":["// jshint esversion: 6\n/* exports App */\n\n(function() {\n  'use strict';\n  let App = {\n    plugins: {}\n  };\n\n  $(() => {\n    Object.keys(App.plugins).forEach(p => {\n      App.plugins[p].run();\n    });\n  });\n\n  let win = $(window);\n  let scrollState = 0;\n  let checkScroll = () => {\n    let st = win.scrollTop();\n\n    if (st > 100) {\n      if (scrollState === 2) {\n        return;\n      }\n\n      win.off('scroll');\n      setTimeout(() => {\n        checkScroll();\n        win.on('scroll', checkScroll);\n      }, 500);\n\n      scrollState = 2;\n      $('header').addClass('scrolled');\n    }\n    else {\n      if (scrollState === 1) {\n        return;\n      }\n\n      win.off('scroll');\n      setTimeout(() => {\n        checkScroll();\n        win.on('scroll', checkScroll);\n      }, 500);\n      scrollState = 1;\n      $('header').removeClass('scrolled');\n    }\n  };\n\n  win.on('scroll', checkScroll);\n\n  window.App = App;\n\n}());\n","// jshint esversion: 6\n/* global App $ */\n\n(function() {\n  'use strict';\n\n  const TOKEN = '7a1785a8e3d036cf2174e4b7e80b6f70b3b1faca';\n  const USERNAME = 'poppa';\n\n  const github = function() {\n    let apiUri = 'https://api.github.com';\n    let repoPath = `/users/${USERNAME}/repos`;\n    let query = `?token=${TOKEN}&auth=oauth&callback=?`;\n    let store = localStorage;\n    let sortOrder = [ 'Pike-Modules', 'jsvault', 'Roxen-Application-Launcher',\n                      'php-lime-pro', 'java-lime-pro', 'csharp-lime-pro',\n                      'pike-for-sublime' ];\n    let cutAt = 9;\n\n    this.run = () => {\n      let cache = store.getItem('github');\n\n      if (cache) {\n        cache = JSON.parse(cache);\n        let ts = cache.ts/1000;\n        let now = new Date().getTime()/1000;\n        if (now-ts < 60*60*4) { // Four hours\n          this._handleData(cache.data);\n          return;\n        }\n      }\n\n      let s = apiUri + repoPath + query + '&sort=updated';\n\n      $.getJSON(s)\n      .then((r) => {\n        let o = {\n          ts: new Date().getTime(),\n          data: r\n        };\n\n        store.setItem('github', JSON.stringify(o));\n        this._handleData(r);\n      })\n      .fail((err) => {\n        window.console.error('Fail: ', err);\n      });\n    };\n\n    this._handleData = (data) => {\n      let t = $('#github');\n      t.empty();\n      data.data.sort((a, b) => {\n        return a.watchers_count < b.watchers_count ?\n          1 : a.watchers_count === b.watchers_count ?\n            0 : -1;\n      });\n\n      let tmp = [],\n        name,\n        obj,\n        i = 0,\n        j = 0,\n        x;\n\n      for (; i < sortOrder.length; i++) {\n        name = sortOrder[i];\n\n        for (j = 0; j < data.data.length; j++) {\n          obj = data.data[j];\n          if (obj.name === name) {\n            x = data.data.splice(j, 1);\n            tmp.push(x[0]);\n            break;\n          }\n        }\n      }\n\n      data.data = tmp.concat(data.data);\n\n      let cnt = 0, cls = '';\n      data.data.forEach((row) => {\n        if (cnt >= cutAt) {\n          cls = ' hidden';\n        }\n        let s = `<li class='col-md-4 col-xs-6${cls}'>\n          <div class='wrapper'>\n            <h3>${row.name}</h3>\n            <p>${row.description}</p>\n            <div class='meta'>`;\n\n        if (row.fork) {\n          s += '<i class=\"item fa fa-code-fork\"></i>';\n        }\n\n        s += `<span class='item'>${row.language || 'Misc'}</span>`;\n        s += `<span class='item'><i class='fa fa-star'></i> ${row.stargazers_count}</span>`;\n        s += `<span class='item'><i class='fa fa-eye'></i> ${row.watchers_count}</span>`;\n        s += `<a href='${row.html_url}' class='item' target='github'><i class='fa fa-github'></i> View on Github</a>`;\n\n        s += '</div></div></li>';\n\n        t.append(s);\n\n        cnt += 1;\n      });\n\n      let more = $('<button class=\"more\">Show more</button>');\n      more.insertAfter(t);\n\n      more.on('click', function() {\n        t.find('li.hidden').addClass('transition').removeClass('hidden');\n        window.requestAnimationFrame(() => {\n          t.find('li.transition').removeClass('transition');\n        });\n        $(this).fadeOut('fast', function() {\n          $(this).remove();\n        });\n      });\n    };\n  };\n\n  App.plugins.github = new github();\n\n\n}());\n","// jshint esversion: 6\n/* global App $ localStorage */\n\n(function() {\n  'use strict';\n  const ACCESS_TOKEN  = '40563140.5d854a2.bf2dc58a4abc46478f3be8b43bc1e53b';\n  const USER_ID       = '40563140';\n  const store         = localStorage;\n\n  const instagram = function() {\n    this.run = () => {\n      let cache = store.getItem('instagram');\n\n      if (cache) {\n        cache = JSON.parse(cache);\n        let ts = cache.ts/1000;\n        let now = new Date().getTime()/1000;\n\n        if (now-ts < 600) {\n          this._handleData(cache.data);\n          return;\n        }\n      }\n\n      let url = `https://api.instagram.com/v1/users/${USER_ID}/media/recent/` +\n        '?access_token=' + ACCESS_TOKEN +\n        '&count=4' +\n        '&callback=?';\n\n      $.getJSON(url)\n      .done(data => {\n        let o = {\n          ts: new Date().getTime(),\n          data: data\n        };\n        store.setItem('instagram', JSON.stringify(o));\n        this._handleData(data);\n      })\n      .fail((e) => {\n        window.console.error('Error: ', e);\n        let t = $('#instagram li');\n        t.empty().append('<div class=\"notify icon error on-dark\">Unable to connect to Instagram!</div>');\n      });\n    };\n\n    this._handleData = d => {\n      let t = $('#instagram');\n      t.empty();\n      d.data.forEach(row => {\n        let s = `<li class=\"col-md-3 col-xs-6\">\n            <a href=\"${row.link}\" target=\"ig\">\n              <span class=\"overlay top\">${row.caption.text}</span>\n              <img src=\"${row.images.low_resolution.url}\"\n                   width=\"${row.images.low_resolution.width}\"\n                   height=\"${row.images.low_resolution.height}\">\n              <span class=\"ig-overlay\">\n                <i class=\"fa fa-instagram\"></i>\n                <span>View on Instagram</span>\n              </span>\n              <span class=\"overlay bottom\">\n                <span class=\"likes\"><i class=\"fa fa-thumbs-up\"></i> ${row.likes.count}</span>\n                <span class=\"comments\"><i class=\"fa fa-comments\"></i> ${row.comments.count}</span>\n              </span>\n            </a>\n          </li>`;\n\n        t.append(s);\n      });\n    };\n  };\n\n  App.plugins.instagram = new instagram();\n}());\n","// jshint esversion: 6\n/* global App */\n\n(function() {\n  'use strict';\n\n  var portfolio = function() {\n    const buttons = [];\n    // let current = null;\n\n    const closeAll = (btn) => {\n      buttons.forEach((b) => {\n        if (b !== btn && (b.state & button.states.CLOSED) !== b.state) {\n          b.clearInterval().close();\n        }\n      });\n    };\n\n\n    const _viewArea = function() {\n      let va       = null,\n        loader     = null,\n        cont       = null,\n        currentRow = null,\n        isOpen     = false,\n        animIntval = 600,\n        clrs       = [ 'blue', 'cyan', 'magenta', 'purple', 'green', 'orange' ];\n\n      const init = () => {\n        va = $('<div>').addClass('viewarea');\n        cont = $('<div>').addClass('content');\n        loader = $('<div>')\n                  .addClass('loading')\n                  .html('<i class=\"fa fa-spinner fa-spin\"></i> Loading...')\n                  .hide();\n        va.append(cont);\n      };\n\n      let idcnt = 0;\n\n      this.display = (row, color, href) => {\n        let copy = va, isCopy = false;\n\n        if (!row.attr('id')) {\n          row.attr('id', '__row' + (idcnt++));\n        }\n\n        const rid = row.attr('id');\n\n        if (currentRow && rid !== currentRow) {\n          copy = va.clone(true);\n          isCopy = true;\n        }\n\n        let _cont = copy.find('div.content');\n\n        if (isOpen) {\n          _cont.addClass('closing');\n        }\n\n        va.addClass('opening');\n\n        setTimeout(() => {\n          va.append(loader);\n          loader.fadeIn('fast');\n          $.get('portfolio/' + href)\n          .then((data) => {\n            loader.fadeOut('fast');\n            cont.empty().append(data).removeClass('closing').addClass('opening');\n\n            let top = row.offset().top - $('header').height() - 17;\n            $('html,body').animate({\n              scrollTop: top\n            }, 700);\n\n            setTimeout(() => {\n              cont.addClass('opened').removeClass('opening');\n            }, animIntval);\n          })\n          .fail((err) => {\n            window.console.error('Error: ', err);\n            cont.empty().removeClass('closing opening');\n          });\n        }, animIntval);\n\n        requestAnimationFrame(() => {\n          va.removeClass(clrs.join(' ')).addClass(color||clrs[0]);\n        });\n\n        if (isCopy) {\n          copy.hide();\n          va.removeClass('opened');\n          copy.insertAfter(va);\n          copy.removeClass('opened').addClass('closing');\n          setTimeout(() => {\n            copy.removeClass('closing');\n          }, animIntval);\n        }\n\n        va.insertAfter(row);\n        va.addClass('opening');\n        setTimeout(() => {\n          va.addClass('opened').removeClass('opening');\n        }, animIntval);\n        currentRow = rid;\n        isOpen = true;\n      };\n\n      this.close = () => {\n        va.addClass('closing').removeClass('opened');\n        setTimeout(() => {\n          va.removeClass('closing');\n        }, animIntval);\n        isOpen = false;\n        currentRow = null;\n      };\n\n      // On DOM ready\n      $(() => { init(); });\n    };\n\n    const viewArea = new _viewArea();\n\n    class button {\n\n      constructor(el) {\n        this.state  = button.states.CLOSED;\n        this._elem  = el;\n        this._href  = el.attr('data-portfolio');\n        this._clr   = el.attr('data-color') || 'purple';\n        this._ivals = {};\n\n        el.on('click', () => { return this._onclick(); });\n      }\n\n      open() {\n        closeAll(this);\n        this.clearInterval();\n        this.state = button.states.OPENING;\n        this._elem.addClass('opening').removeClass('closing closed opened');\n\n        viewArea.display(this._elem.closest('.flexrow'), this._clr, this._href);\n\n        this._ivals.open = setTimeout(() => {\n          this._elem.addClass('opened ' + this._clr).removeClass('opening');\n          this.state = button.states.OPENED;\n        }, button.animationInterval);\n\n        return this;\n      }\n\n      close() {\n        this.clearInterval();\n        this.state = button.states.CLOSING;\n        this._elem.addClass('closing').removeClass('opened opening closed');\n\n        this._ivals.close = setTimeout(() => {\n          this.state = button.states.CLOSED;\n          this._elem.removeClass('closing');\n        }, button.animationInterval);\n\n        return this;\n      }\n\n      clearInterval(which) {\n        if (which) {\n          if (this._ivals[which]) {\n            clearTimeout(this._ivals[which]);\n          }\n          return this;\n        }\n        if (this._ivals.open) {\n          clearTimeout(this._ivals.open);\n        }\n        if (this._ivals.close) {\n          clearTimeout(this._ivals.close);\n        }\n\n        return this;\n      }\n\n      _onclick() {\n        requestAnimationFrame(() => {\n          if ((button.states.OPENING|button.states.OPENED) & this.state) {\n            this.close();\n            viewArea.close();\n          }\n          else {\n            this.open();\n          }\n        });\n\n        return false;\n      }\n    }\n\n    button.animationInterval = 600;\n\n    button.states = {\n      CLOSED:  1,\n      OPENED:  2,\n      OPENING: 4,\n      CLOSING: 8\n    };\n\n    this.run = () => {\n      $('[data-portfolio]').each((i, el) => {\n        el = $(el);\n        let b = new button(el);\n        buttons.push(b);\n      });\n\n    };\n  };\n\n  App.plugins.portfolio = new portfolio();\n\n}());\n"],"sourceRoot":"/source/"}