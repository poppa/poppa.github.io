{"version":3,"sources":["app.js","github.js","instagram.js"],"names":["App","plugins","$","Object","keys","forEach","p","run","body","document","scrollState","checkScroll","st","scrollTop","addClass","removeClass","window","on","TOKEN","USERNAME","github","_this","this","apiUri","repoPath","query","store","localStorage","cache","getItem","JSON","parse","ts","now","Date","getTime","_handleData","data","console","log","s","getJSON","then","r","o","setItem","stringify","fail","err","error","t","empty","row","name","description","fork","language","append","ACCESS_TOKEN","USER_ID","instagram","url","done","e","d","link","caption","text","images","low_resolution","width","height","likes","count","comments"],"mappings":"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","file":"app.min.js","sourcesContent":["/* exports App */\n\n(function() {\n  'use strict';\n  let App = {\n    plugins: {}\n  };\n\n  $(() => {\n    Object.keys(App.plugins).forEach(p => {\n      App.plugins[p].run();\n    });\n  });\n\n  let body = $(document.body);\n  let scrollState = 0;\n  let checkScroll = () => {\n    let st = body.scrollTop();\n\n    if (st > 100) {\n      if (scrollState === 2) {\n        return;\n      }\n\n      scrollState = 2;\n      $('header').addClass('scrolled');\n    }\n    else {\n      if (scrollState === 1) {\n        return;\n      }\n\n      scrollState = 1;\n      $('header').removeClass('scrolled');\n    }\n  };\n\n  $(window).on('scroll', checkScroll);\n\n  window.App = App;\n\n}());","/* global App $ */\n\n(function() {\n  'use strict';\n\n  const TOKEN = '7a1785a8e3d036cf2174e4b7e80b6f70b3b1faca';\n  const USERNAME = 'poppa';\n\n  App.plugins.github = (new function() {\n    let apiUri = 'https://api.github.com'\n    let repoPath = `/users/${USERNAME}/repos`;\n    let query = `?token=${TOKEN}&auth=oauth&callback=?`;\n    let store = localStorage;\n\n    this.run = () => {\n      let cache = store.getItem('github');\n\n      if (cache) {\n        cache = JSON.parse(cache);\n        let ts = cache.ts/1000;\n        let now = new Date().getTime()/1000;\n        if (now-ts < 60*60*4) { // Four hours\n          this._handleData(cache.data);\n          return;\n        }\n        window.console.log('Old Github cache, renew');\n      }\n\n      let s = apiUri + repoPath + query + '&sort=updated';\n\n      $.getJSON(s)\n      .then((r) => {\n        let o = {\n          ts: new Date().getTime(),\n          data: r\n        };\n\n        store.setItem('github', JSON.stringify(o));\n        this._handleData(r);\n      })\n      .fail((err) => {\n        window.console.error('Fail: ', err);\n      });\n    };\n\n    this._handleData = (data) => {\n      let t = $('#github');\n      t.empty();\n      data.data.forEach((row) => {\n        window.console.log('row: ', row);\n        let s = `<li class='col-md-4 col-xs-6'>\n          <div class='wrapper'>\n            <h3>${row.name}</h3>\n            <p>${row.description}</p>\n            <div class='meta'>`;\n\n        if (row.fork) {\n          s += `<i class='item fa fa-code-fork'></i>`;\n        }\n\n        s += `<span class='item'>${row.language || 'Misc'}</span>`;\n\n        s += `</div></div></li>`;\n\n        t.append(s);\n      });\n    };\n  }());\n\n\n}());","/* global app $ localStorage */\n\n(function() {\n  'use strict';\n  const ACCESS_TOKEN  = '40563140.5d854a2.bf2dc58a4abc46478f3be8b43bc1e53b';\n  const USER_ID       = '40563140';\n  const store = localStorage;\n\n  App.plugins.instagram = (new function() {\n    this.run = () => {\n      let cache = store.getItem('instagram');\n\n      if (cache) {\n        cache = JSON.parse(cache);\n        let ts = cache.ts/1000;\n        let now = new Date().getTime()/1000;\n\n        if (now-ts < 600) {\n          this._handleData(cache.data);\n          return;\n        }\n        window.console.log('Old instagram cache, renew');\n      }\n\n      let url = `https://api.instagram.com/v1/users/${USER_ID}/media/recent/` +\n        '?access_token=' + ACCESS_TOKEN +\n        '&count=4' +\n        '&callback=?';\n\n      $.getJSON(url)\n      .done(data => {\n        let o = {\n          ts: new Date().getTime(),\n          data: data\n        };\n        store.setItem('instagram', JSON.stringify(o));\n        this._handleData(data);\n      })\n      .fail((e) => {\n        window.console.error('Error: ', e);\n        let t = $('#instagram li');\n        t.empty().append('<div class=\"notify icon error on-dark\">Unable to connect to Instagram!</div>');\n      });\n    };\n\n    this._handleData = d => {\n      let t = $('#instagram');\n      t.empty();\n      d.data.forEach(row => {\n        let s = `<li class=\"col-md-3 col-sm-6\">\n            <a href=\"${row.link}\" target=\"ig\">\n              <span class=\"overlay top\">${row.caption.text}</span>\n              <img src=\"${row.images.low_resolution.url}\"\n                   width=\"${row.images.low_resolution.width}\"\n                   height=\"${row.images.low_resolution.height}\">\n              <span class=\"ig-overlay\">\n                <i class=\"fa fa-instagram\"></i>\n                <span>View on Instagram</span>\n              </span>\n              <span class=\"overlay bottom\">\n                <span class=\"likes\"><i class=\"fa fa-thumbs-up\"></i> ${row.likes.count}</span>\n                <span class=\"comments\"><i class=\"fa fa-comments\"></i> ${row.comments.count}</span>\n              </span>\n            </a>\n          </li>`;\n\n        t.append(s);\n      });\n    };\n  }());\n}());\n"],"sourceRoot":"/source/"}