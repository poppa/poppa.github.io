<!doctype html>
<html>
  <head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta charset="utf-8">
    <title>Fuse.Operations()-&gt;lock() - Pike Reference Manual</title>
    <!-- 221-->
    <link rel='stylesheet' href='../../../../style.css'>
    <script src='../../../../site.js'></script>
    <script src='../../../../constants.js'></script>
    <script>PikeDoc.NO_DYNAMIC = false;</script>
    <style type='text/css'>
svg line { stroke:#343434; stroke-width:2; }
svg text { fill:#343434; }
svg a { fill:#0768b2; text-decoration: underline; }
</style>

  </head>
  <body>
    <header>
      <div class="header">
        <div id="version"><strong data-id="version">Pike v8.1 release 6</strong></div>
        <div id="burger">&#9776;</div><!-- Hamburger icon -->
        <h1>
          <a href="http://pike.lysator.liu.se/" class="logo">
            <span>Pike programming language</span>
          </a>
        </h1>
      </div>
    </header>
    <div id="page">
      <div class="navbar">
        <nav>
          <div class="inner" id="navbar">
            <a href='../../../../index.html'><b class='top head'>Top</b></a>
<a href='../../../../ex/predef_3A_3A/Fuse.html'><b class='head'>Fuse</b></a>
<a href='../../../../ex/predef_3A_3A/Fuse/Operations.html'><b class='head'>Fuse.Operations</b></a>
<script></script>
<noscript>
<div class='sidebar'>
<a href='../../../../ex/predef_3A_3A/Fuse/Operations/index.html'><b>Symbol index</b></a><br />
</div>
</noscript>

          </div>
        </nav>
      </div>
      <div class="content">
        <div class="navbox">
          <nav>
            <div class="sidebar">
              <a href="../../../../ex/predef_3A_3A/Fuse/Operations/listxattr.html" class="prev"><span>&#10148;</span> Fuse.Operations()-&gt;listxattr()</a>
              <a href="../../../../ex/predef_3A_3A/Fuse/Operations/mkdir.html" class="next">Fuse.Operations()-&gt;mkdir() <span>&#10148;</span></a>
            </div>
          </nav>
        </div>
        <div class="contentbox">
          <article>
            <h1>Method Fuse.Operations()-&gt;lock()</h1>
            

<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Method</span>
<span class='homogen--name'><b>lock</b></span>
</dt>
<dd><p><code><code class='datatype'>mapping</code>(<code class='datatype'>string</code>:<code class='datatype'>int</code>)|<code class='datatype'>int</code> <b><span class='method'>lock</span>(</b><code class='datatype'>string</code> <code class='argument'>path</code>, <code class='datatype'>int</code> <code class='argument'>mode</code>, <code class='datatype'>mapping</code>(<code class='datatype'>string</code>:<code class='datatype'>int</code>) <code class='argument'>how</code><b>)</b></code></p></dd>

<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>Lock, unlock or test for the existence of record locks (POSIX
 file locking). The owner of the lock is identified by <code class='reference unresolved'>how-&gt;owner</code></p>
<p> If you only need local file-locking on the computer the
 filesystem is mounted on you do not need to implement this
 interface. This is only needed for network filesystems that
 want locking to work over the network.</p>
<p> The operation mode depends on the mode argument.</p>
<p> F_SETLK</p>
<p>  Acquire a lock (when <code class='reference unresolved'>how-&gt;type</code> is <a class='ms reference' href='../../../predef_3A_3A/Fuse/Operations.html'>F_RDLCK</a> or <a class='ms reference' href='../../../predef_3A_3A/Fuse/Operations.html'>F_WRLCK</a>) or
  release a lock (when <code class='reference unresolved'>how-&gt;type</code> is <a class='ms reference' href='../../../predef_3A_3A/Fuse/Operations.html'>F_UNLCK</a>) on the bytes
  specified by the how-&gt;whence, how-&gt;start, and how-&gt;len fields
  of lock.  If a conflicting lock is held by another process,
  you should return EACCES or EAGAIN.</p>
<p> F_SETLKW</p>
<p>  Identical to SETLK, but if a lock is held on the file, wait
  for it to be released before returning. You are allowed to
  return EINTR, to signal that the waiting has been interrupted
  and must be restarted.</p>
<p> F_GETLK</p>
<p>  Identical to SETLK, but do not actually aquire the lock if it
  can be aquired.  If one or more incompatible locks would
  prevent this lock being placed, then fcntl() returns details
  about one of these locks in the type, whence, start, and len
  fields of <code class='reference paramref'>how</code> and set <code class='reference unresolved'>pid</code> to be the PID of the process
  holding that lock. Then return the mapping.</p>
</dd></dl>

          </article>
        </div>
      </div>
    </div>
    <footer>
      <div id="build-date">Extracted from <strong data-id="version">Pike v8.1 release 6</strong> as of <strong data-id="date" data-timestamp="1478943856">2016-11-12</strong>.</div>
    </footer>
    <script>PikeDoc.current = {"link":"ex/predef_3A_3A/Fuse/Operations/lock.html","name":"lock"};</script>
<script src='../../../../ex/predef_3A_3A/Fuse/Operations/index.js'></script>
<script src='../../../../ex/predef_3A_3A/Fuse/Operations/load_index.js'></script>
    <script>
      // Tell PikeDoc that next actions are from loaded scripts
      PikeDoc.isInline = false;
    </script>
  </body>
</html>
