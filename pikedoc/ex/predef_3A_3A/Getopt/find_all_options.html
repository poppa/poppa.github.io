<!doctype html>
<html>
  <head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta charset="utf-8">
    <title>Pike Reference Manual - Getopt.find_all_options()</title>
    <!-- 220-->
    <link rel='stylesheet' href='../../../style.css'>
    <script src='../../../site.js'></script>
    <script src='../../../pike_version.js'></script>
    <script src='../../../timestamp.js'></script>
    <style type='text/css'>
svg line { stroke:#343434; stroke-width:2; }
svg text { fill:#343434; }
svg a { fill:#0768b2; text-decoration: underline; }
</style>

  </head>
  <body>
    <header>
      <div class="header">
        <div id="version"><strong data-id="version"></strong></div>
        <div id="burger">&#9776;</div><!-- Hamburger icon -->
        <h1>
          <a href="http://pike.lysator.liu.se/" class="logo">
            <span>Pike programming language</span>
          </a>
        </h1>
      </div>
    </header>
    <div id="page">
      <div class="navbar">
        <nav>
          <div class="inner" id="navbar">
            <a href='../../../index.html'><b class='top head'>Top</b></a>
<a href='../../../ex/predef_3A_3A/Getopt.html'><b class='head'>Getopt</b></a>
<script></script>
<noscript>
<div class='sidebar'>
<a href='../../../ex/predef_3A_3A/Getopt/index.html'><b>Symbol index</b></a><br />
</div>
</noscript>

          </div>
        </nav>
      </div>
      <div class="content">
        <div class="navbox">
          <nav>
            <div class="sidebar">
              <a href="../../../ex/predef_3A_3A/Getopt.html" class="prev"><span>&#10148;</span> Getopt</a>
              <a href="../../../ex/predef_3A_3A/Getopt/find_option.html" class="next">Getopt.find_option() <span>&#10148;</span></a>
            </div>
          </nav>
        </div>
        <div class="contentbox">
          <article>
            <h1>Method Getopt.find_all_options()</h1>
            

<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Method</span>
<span class='homogen--name'><b>find_all_options</b></span>
</dt>
<dd><p><code><code class='datatype'>array</code>(<code class='datatype'>array</code>) <b><span class='method'>find_all_options</span>(</b><code class='datatype'>array</code>(<code class='datatype'>string</code>) <code class='argument'>argv</code>, <code class='datatype'>array</code>(<code class='datatype'>array</code>(<code class='datatype'>array</code>(<code class='datatype'>string</code>)|<code class='datatype'>string</code>|<code class='datatype'>int</code>)) <code class='argument'>options</code>, <code class='datatype'>void</code>|<code class='datatype'>int(-1..1)</code> <code class='argument'>posix_me_harder</code>, <code class='datatype'>void</code>|<code class='datatype'>int</code> <code class='argument'>throw_errors</code><b>)</b></code></p></dd>

<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>This function does the job of several calls to <a class='ms reference' href='../../predef_3A_3A/Getopt/find_option.html'>find_option()</a>.
   The main advantage of this is that it allows it to handle the
   <tt><b>POSIX_ME_HARDER</b></tt> environment variable better. When either
   the argument <code class='reference paramref'>posix_me_harder</code> or the environment variable
   <tt><b>POSIX_ME_HARDER</b></tt> is true, no arguments will be parsed after
   the first non-option on the command line.</p>
</dd>
<dt class='head--doc'><span id='p-argv'></span>Parameter <code class='parameter'>argv</code></dt>
<dd></dd><dd class='body--doc'><p>The should be the array of strings that was sent as the second
   argument to your <code class='expr'>main()</code> function.</p>
</dd>
<dt class='head--doc'><span id='p-options'></span>Parameter <code class='parameter'>options</code></dt>
<dd></dd><dd class='body--doc'><p>Each element in the array <code class='reference paramref'>options</code> should be an array on the
   following form:</p>
<table class='box'><tr><td colspan='2'>Array</td></tr>
<tr><td><code><code class='datatype'>string</code> <code class='key'>name</code></code></td><td><p>Name is a tag used to identify the option in the output.</p>
</td></tr>
<tr><td><code><code class='datatype'>int</code> <code class='key'>type</code></code></td><td><p>Type is one of <a class='ms reference' href='../../predef_3A_3A/Getopt.html'>Getopt.HAS_ARG</a>, <a class='ms reference' href='../../predef_3A_3A/Getopt.html'>Getopt.NO_ARG</a> and
   	  <a class='ms reference' href='../../predef_3A_3A/Getopt.html'>Getopt.MAY_HAVE_ARG</a> and it affects how the error handling
   	  and parsing works.
   	  You should use <a class='ms reference' href='../../predef_3A_3A/Getopt.html'>HAS_ARG</a> for options that require a path, a number
       or similar. <a class='ms reference' href='../../predef_3A_3A/Getopt.html'>NO_ARG</a> should be used for options that do not need an
   	  argument, such as <tt>--version</tt>. <a class='ms reference' href='../../predef_3A_3A/Getopt.html'>MAY_HAVE_ARG</a> should be used
   	  for options that may or may not need an argument.</p>
</td></tr>
<tr><td><code><code class='datatype'>string</code>|<code class='datatype'>array</code>(<code class='datatype'>string</code>) <code class='key'>aliases</code></code></td><td><p>This is a string or an array of string of options that will be
   	  looked for. Short and long options can be mixed, and short options
   	  can be combined into one string. Note that you must include the
       dashes so that <a class='ms reference' href='../../predef_3A_3A/Getopt/find_all_options.html'>find_all_options()</a> can distinguish between
   	  long and short options. Example: <code class='expr'>({"-tT","--test"})</code>
   	  This would make <a class='ms reference' href='../../predef_3A_3A/Getopt/find_all_options.html'>find_all_options</a> look for <tt>-t</tt>,
   	  <tt>-T</tt> and <tt>--test</tt>.</p>
</td></tr>
<tr><td><code><code class='datatype'>void</code>|<code class='datatype'>string</code>|<code class='datatype'>array</code>(<code class='datatype'>string</code>) <code class='key'>env_var</code></code></td><td><p>This is a string or an array of strings containing names of
   	  environment variables that can be used instead of the
   	  command line option.</p>
</td></tr>
<tr><td><code><code class='datatype'>void</code>|<code class='datatype'>mixed</code> <code class='key'>default</code></code></td><td><p>This is the default value a <a class='ms reference' href='../../predef_3A_3A/Getopt.html'>MAY_HAVE_ARG</a> option will have in the
       output if it was set but not assigned any value.</p>
</td></tr>
</table><p>Only the first three elements need to be included.</p>
</dd>
<dt class='head--doc'><span id='p-posix_me_harder'></span>Parameter <code class='parameter'>posix_me_harder</code></dt>
<dd></dd><dd class='body--doc'><p>Don't scan for arguments after the first non-option.</p>
</dd>
<dt class='head--doc'><span id='p-throw_errors'></span>Parameter <code class='parameter'>throw_errors</code></dt>
<dd></dd><dd class='body--doc'><p>If <code class='reference paramref'>throw_errors</code> has been specified <a class='ms reference' href='../../predef_3A_3A/Getopt/find_all_options.html'>find_all_options()</a> will
   throw errors on failure. If it has been left out, or is
   <code class='expr'>0</code> (zero), it will instead print an error message on
   <a class='ms reference' href='../../predef_3A_3A/Stdio.html'>Stdio.stderr</a> and exit the program with result code 1 on
   failure.</p>
</dd>
<dt class='head--doc'>Returns</dt>
<dd class='body--doc'><p>The good news is that the output from this function is a lot simpler.
   <a class='ms reference' href='../../predef_3A_3A/Getopt/find_all_options.html'>find_all_options()</a> returns an array where each element is an array on
   this form:</p>
<table class='box'><tr><td colspan='2'>Array</td></tr>
<tr><td><code><code class='datatype'>string</code> <code class='key'>name</code></code></td><td><p>Option identifier name from the input.</p>
</td></tr>
<tr><td><code><code class='datatype'>mixed</code> <code class='key'>value</code></code></td><td><p>Value given. If no value was specified, and no default has been
   	  specified, the value will be 1.</p>
</td></tr>
</table>
</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'><p><a class='ms reference' href='../../predef_3A_3A/Getopt/find_all_options.html'>find_all_options()</a> modifies <code class='reference paramref'>argv</code>.</p>
<p>   Index <code class='expr'>0</code> (zero) of <code class='reference paramref'>argv</code> is not scanned for options,
   since it is reserved for the program name.</p>
</dd>
<dt class='head--doc'>See also</dt>
<dd class='body--doc'><p><a class='ms reference' href='../../predef_3A_3A/Getopt/get_args.html'>Getopt.get_args()</a>, <a class='ms reference' href='../../predef_3A_3A/Getopt/find_option.html'>Getopt.find_option()</a></p>
</dd></dl>

          </article>
        </div>
      </div>
    </div>
    <footer>
      <div id="build-date">Extracted from <strong data-id="version"></strong> as of <strong data-id="date"></strong>.</div>
    </footer>
    <script>PikeDoc.current = {"link":"ex/predef_3A_3A/Getopt/find_all_options.html","name":"find_all_options"};</script>
<script src='../../../ex/predef_3A_3A/Getopt/index.js'></script>
<script src='../../../ex/predef_3A_3A/Getopt/load_index.js'></script>
    <script>
      // Tell PikeDoc that next actions are from loaded scripts
      PikeDoc.isInline = false;
    </script>
  </body>
</html>
