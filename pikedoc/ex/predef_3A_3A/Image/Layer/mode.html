<!doctype html>
<html>
  <head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta charset="utf-8">
    <title>Image.Layer()-&gt;mode() - Pike Reference Manual</title>
    <!-- 221-->
    <link rel='stylesheet' href='../../../../style.css'>
    <script src='../../../../site.js'></script>
    <script src='../../../../constants.js'></script>
    <script>PikeDoc.NO_DYNAMIC = false;</script>
    <style type='text/css'>
svg line { stroke:#343434; stroke-width:2; }
svg text { fill:#343434; }
svg a { fill:#0768b2; text-decoration: underline; }
</style>

  </head>
  <body>
    <header>
      <div class="header">
        <div id="version"><strong data-id="version">Pike v8.1 release 6</strong></div>
        <div id="burger">&#9776;</div><!-- Hamburger icon -->
        <h1>
          <a href="http://pike.lysator.liu.se/" class="logo">
            <span>Pike programming language</span>
          </a>
        </h1>
      </div>
    </header>
    <div id="page">
      <div class="navbar">
        <nav>
          <div class="inner" id="navbar">
            <a href='../../../../index.html'><b class='top head'>Top</b></a>
<a href='../../../../ex/predef_3A_3A/Image.html'><b class='head'>Image</b></a>
<a href='../../../../ex/predef_3A_3A/Image/Layer.html'><b class='head'>Image.Layer</b></a>
<script></script>
<noscript>
<div class='sidebar'>
<a href='../../../../ex/predef_3A_3A/Image/Layer/index.html'><b>Symbol index</b></a><br />
</div>
</noscript>

          </div>
        </nav>
      </div>
      <div class="content">
        <div class="navbox">
          <nav>
            <div class="sidebar">
              <a href="../../../../ex/predef_3A_3A/Image/Layer/image.html" class="prev"><span>&#10148;</span> Image.Layer()-&gt;image()</a>
              <a href="../../../../ex/predef_3A_3A/Image/Layer/set_alpha_value.html" class="next">Image.Layer()-&gt;set_alpha_value() <span>&#10148;</span></a>
            </div>
          </nav>
        </div>
        <div class="contentbox">
          <article>
            <h1>Method Image.Layer()-&gt;mode()</h1>
            

<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Method</span>
<span class='homogen--name'><b>mode</b></span>
</dt>
<dd><p><code><code class='object resolved'><code class='reference unresolved'>object </code></code> <b><span class='method'>set_mode</span>(</b><code class='datatype'>string</code> <code class='argument'>mode</code><b>)</b></code><br>
<code><code class='object resolved'><code class='reference unresolved'>string </code></code> <b><span class='method'>mode</span>(</b><b>)</b></code><br>
<code><code class='datatype'>array</code>(<code class='datatype'>string</code>) <b><span class='method'>available_modes</span>(</b><b>)</b></code></p></dd>

<dt class='head--doc'>Description</dt>
<dd class='body--doc'>

<p>    Set/get layer mode. Mode is one of these:</p>

<p><dl class='group--doc'></dl>
<i>All channels are calculated separately, if nothing else is specified.</i>
<table cellpadding='1' cellspacing='0'><tr><td align='left' colspan='2'><b>top layer</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.1.jpeg' width='480' /></td><td align='left' valign='center'></td></tr>
<tr><td align='left' colspan='2'><b>bottom layer</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.2.jpeg' width='480' /></td><td align='left' valign='center'></td></tr>
<tr><td align='left' colspan='2'><b>normal</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.3.jpeg' width='480' /></td><td align='left' valign='center'>D=L applied with alpha: D=(L*aL+S*(1-aL)*aS) / (aL+(1-aL)*aS), aD=(aL+(1-aL)*aS)</td></tr>
<tr><td> </td></tr><tr><td align='left' colspan='2'><b>add</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.4.jpeg' width='480' /></td><td align='left' valign='center'>D=L+S applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>subtract</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.5.jpeg' width='480' /></td><td align='left' valign='center'>D=S-L applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>multiply</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.6.jpeg' width='480' /></td><td align='left' valign='center'>D=S*L applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>divide</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.7.jpeg' width='480' /></td><td align='left' valign='center'>D=S/L applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>negdivide</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.8.jpeg' width='480' /></td><td align='left' valign='center'>D=1.0-S/L applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>modulo</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.9.jpeg' width='480' /></td><td align='left' valign='center'>D=S%L applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>invsubtract</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.10.jpeg' width='480' /></td><td align='left' valign='center'>D=L-S applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>invdivide</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.11.jpeg' width='480' /></td><td align='left' valign='center'>D=L/S applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>invmodulo</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.12.jpeg' width='480' /></td><td align='left' valign='center'>D=L%S applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>imultiply</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.13.jpeg' width='480' /></td><td align='left' valign='center'>D=(1-L)*S applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>idivide</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.14.jpeg' width='480' /></td><td align='left' valign='center'>D=S/(1-L) applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>invidivide</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.15.jpeg' width='480' /></td><td align='left' valign='center'>D=L/(1-S) applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>difference</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.16.jpeg' width='480' /></td><td align='left' valign='center'>D=abs(L-S) applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>max</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.17.jpeg' width='480' /></td><td align='left' valign='center'>D=max(L,S) applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>min</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.18.jpeg' width='480' /></td><td align='left' valign='center'>D=min(L,S) applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>bitwise_and</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.19.jpeg' width='480' /></td><td align='left' valign='center'>D=L&amp;amp;amp;S applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>bitwise_or</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.20.jpeg' width='480' /></td><td align='left' valign='center'>D=L|S applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>bitwise_xor</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.21.jpeg' width='480' /></td><td align='left' valign='center'>D=L^S applied with alpha, aD=aS</td></tr>
<tr><td> </td></tr><tr><td align='left' colspan='2'><b>replace</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.22.jpeg' width='480' /></td><td align='left' valign='center'>D=(L*aL+S*(1-aL)*aS) / (aL+(1-aL)*aS), aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>red</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.23.jpeg' width='480' /></td><td align='left' valign='center'>Dr=(Lr*aLr+Sr*(1-aLr)*aSr) / (aLr+(1-aLr)*aSr), Dgb=Sgb, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>green</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.24.jpeg' width='480' /></td><td align='left' valign='center'>Dg=(Lg*aLg+Sg*(1-aLg)*aSg) / (aLg+(1-aLg)*aSg), Drb=Srb, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>blue</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.25.jpeg' width='480' /></td><td align='left' valign='center'>Db=(Lb*aLb+Sb*(1-aLb)*aSb) / (aLb+(1-aLb)*aSb), Drg=Srg, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hardlight</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.26.jpeg' width='480' /></td><td align='left' valign='center'>Like photoshop hardlight layer mode, aD=aS</td></tr>
<tr><td> </td></tr><tr><td align='left' colspan='2'><b>replace_hsv</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.27.jpeg' width='480' /></td><td align='left' valign='center'>Dhsv=Lhsv apply with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hue</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.28.jpeg' width='480' /></td><td align='left' valign='center'>Dh=Lh apply with alpha, Dsv=Lsv, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>saturation</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.29.jpeg' width='480' /></td><td align='left' valign='center'>Ds=Ls apply with alpha, Dhv=Lhv, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>value</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.30.jpeg' width='480' /></td><td align='left' valign='center'>Dv=Lv apply with alpha, Dhs=Lhs, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>color</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.31.jpeg' width='480' /></td><td align='left' valign='center'>Dhs=Lhs apply with alpha, Dv=Lv, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>value_mul</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.32.jpeg' width='480' /></td><td align='left' valign='center'>Dv=Lv*Sv apply with alpha, Dhs=Lhs, aD=aS</td></tr>
<tr><td> </td></tr><tr><td align='left' colspan='2'><b>darken</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.33.jpeg' width='480' /></td><td align='left' valign='center'>Dv=min(Lv,Sv) apply with alpha, Dhs=Lhs, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>lighten</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.34.jpeg' width='480' /></td><td align='left' valign='center'>Dv=max(Lv,Sv) apply with alpha, Dhs=Lhs, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>saturate</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.35.jpeg' width='480' /></td><td align='left' valign='center'>Ds=max(Ls,Ss) apply with alpha, Dhv=Lhv, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>desaturate</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.36.jpeg' width='480' /></td><td align='left' valign='center'>Ds=min(Ls,Ss) apply with alpha, Dhv=Lhv, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_replace</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.37.jpeg' width='480' /></td><td align='left' valign='center'>Dhls=Lhls apply with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_hue</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.38.jpeg' width='480' /></td><td align='left' valign='center'>Dh=Lh apply with alpha, Dsv=Lsv, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_saturation</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.39.jpeg' width='480' /></td><td align='left' valign='center'>Ds=Ls apply with alpha, Dhv=Lhv, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_lightness</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.40.jpeg' width='480' /></td><td align='left' valign='center'>Dl=Ll apply with alpha, Dhs=Lhs, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_color</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.41.jpeg' width='480' /></td><td align='left' valign='center'>Dhs=Lhs apply with alpha, Dl=Ll, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_lightness_mul</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.42.jpeg' width='480' /></td><td align='left' valign='center'>Dl=Ll*Sl apply with alpha, Dhs=Lhs, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_darken</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.43.jpeg' width='480' /></td><td align='left' valign='center'>Dl=min(Ll,Sl) apply with alpha, Dhs=Lhs, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_lighten</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.44.jpeg' width='480' /></td><td align='left' valign='center'>Dl=max(Ll,Sl) apply with alpha, Dhs=Lhs, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_saturate</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.45.jpeg' width='480' /></td><td align='left' valign='center'>Ds=max(Ls,Ss) apply with alpha, Dhl=Lhl, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>hls_desaturate</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.46.jpeg' width='480' /></td><td align='left' valign='center'>Ds=min(Ls,Ss) apply with alpha, Dhl=Lhl, aD=aS</td></tr>
<tr><td> </td></tr><tr><td align='left' colspan='2'><b>dissolve</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.47.jpeg' width='480' /></td><td align='left' valign='center'>i=random 0 or 1, D=i?L:S, aD=i+aS</td></tr>
<tr><td align='left' colspan='2'><b>behind</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.48.jpeg' width='480' /></td><td align='left' valign='center'>D=(S*aS+L*(1-aS)*aL) / (aS+(1-aS)*aL), aD=(aS+(1-aS)*aL); simply swap S and L</td></tr>
<tr><td align='left' colspan='2'><b>erase</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.49.jpeg' width='480' /></td><td align='left' valign='center'>D=S, aD=aS*(1-aL)</td></tr>
<tr><td> </td></tr><tr><td align='left' colspan='2'><b>screen</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.50.jpeg' width='480' /></td><td align='left' valign='center'>1-(1-S)*(1-L) applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>overlay</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.51.jpeg' width='480' /></td><td align='left' valign='center'>(1-(1-a)*(1-b)-a*b)*a+a*b applied with alpha, aD=aS</td></tr>
<tr><td align='left' colspan='2'><b>burn_alpha</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.52.jpeg' width='480' /></td><td align='left' valign='center'>aD=aL+aS applied with alpha, D=L+S; experimental, may change or be removed</td></tr>
<tr><td> </td></tr><tr><td align='left' colspan='2'><b>equal</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.53.jpeg' width='480' /></td><td align='left' valign='center'>each channel D=max if L==S, 0 otherwise, apply with alpha</td></tr>
<tr><td align='left' colspan='2'><b>not_equal</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.54.jpeg' width='480' /></td><td align='left' valign='center'>each channel D=max if L!=S, 0 otherwise, apply with alpha</td></tr>
<tr><td align='left' colspan='2'><b>less</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.55.jpeg' width='480' /></td><td align='left' valign='center'>each channel D=max if L&amp;amp;lt;S, 0 otherwise, apply with alpha</td></tr>
<tr><td align='left' colspan='2'><b>more</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.56.jpeg' width='480' /></td><td align='left' valign='center'>each channel D=max if L&amp;amp;gt;S, 0 otherwise, apply with alpha</td></tr>
<tr><td align='left' colspan='2'><b>less_or_equal</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.57.jpeg' width='480' /></td><td align='left' valign='center'>each channel D=max if L&amp;amp;lt;=S, 0 otherwise, apply with alpha</td></tr>
<tr><td align='left' colspan='2'><b>more_or_equal</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.58.jpeg' width='480' /></td><td align='left' valign='center'>each channel D=max if L&amp;amp;gt;=S, 0 otherwise, apply with alpha</td></tr>
<tr><td> </td></tr><tr><td align='left' colspan='2'><b>logic_equal</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.59.jpeg' width='480' /></td><td align='left' valign='center'>logic: D=white and opaque if L==S, black and transparent otherwise</td></tr>
<tr><td align='left' colspan='2'><b>logic_not_equal</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.60.jpeg' width='480' /></td><td align='left' valign='center'>logic: D=white and opaque if any L!=S, black and transparent otherwise</td></tr>
<tr><td align='left' colspan='2'><b>logic_strict_less</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.61.jpeg' width='480' /></td><td align='left' valign='center'>logic: D=white and opaque if all L&amp;amp;lt;S, black and transparent otherwise</td></tr>
<tr><td align='left' colspan='2'><b>logic_strict_more</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.62.jpeg' width='480' /></td><td align='left' valign='center'>logic: D=white and opaque if all L&amp;amp;gt;S, black and transparent otherwise</td></tr>
<tr><td align='left' colspan='2'><b>logic_strict_less_equal</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.63.jpeg' width='480' /></td><td align='left' valign='center'>logic: D=white and opaque if all L&amp;amp;lt;=L, black and transparent otherwise</td></tr>
<tr><td align='left' colspan='2'><b>logic_strict_more_equal</b></td></tr><tr><td align='right'><img height='80' src='../../../../images/predef.Image.Layer.set_mode.64.jpeg' width='480' /></td><td align='left' valign='center'>logic: D=white and opaque if all L&amp;amp;gt;=L, black and transparent otherwise</td></tr>
</table></p>

<p>    <a class='ms reference' href='../../../predef_3A_3A/Image/Layer/available_modes.html'>available_modes</a>() simply gives an array
    containing the names of these modes.
</p>
</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'>

<p>image and alpha channel must be of the same size,
or canceled.</p>
</dd></dl>

          </article>
        </div>
      </div>
    </div>
    <footer>
      <div id="build-date">Extracted from <strong data-id="version">Pike v8.1 release 6</strong> as of <strong data-id="date" data-timestamp="1478943856">2016-11-12</strong>.</div>
    </footer>
    <script>PikeDoc.current = {"link":"ex/predef_3A_3A/Image/Layer/mode.html","name":"mode"};</script>
<script src='../../../../ex/predef_3A_3A/Image/Layer/index.js'></script>
<script src='../../../../ex/predef_3A_3A/Image/Layer/load_index.js'></script>
    <script>
      // Tell PikeDoc that next actions are from loaded scripts
      PikeDoc.isInline = false;
    </script>
  </body>
</html>
