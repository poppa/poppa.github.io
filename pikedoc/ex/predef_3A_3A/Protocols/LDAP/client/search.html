<!doctype html>
<html>
  <head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta charset="utf-8">
    <title>Pike Reference Manual - Protocols.LDAP.client()-&gt;search()</title>
    <!-- 178 -->
    <link rel='stylesheet' href='../../../../../style.css'>
    <script src='../../../../../site.js'></script>
    <script src='../../../../../pike_version.js'></script>
    <script src='../../../../../timestamp.js'></script>
    <style type='text/css'>
svg line { stroke:#343434; stroke-width:2; }
svg text { fill:#343434; }
svg a { fill:#0768b2; text-decoration: underline; }
</style>

  </head>
  <body>
    <header>
      <div class="header">
        <div id="version"><strong data-id="version"></strong></div>
        <div id="burger">&#9776;</div><!-- Hamburger icon -->
        <h1>
          <a href="http://pike.lysator.liu.se/" class="logo">
            <span>Pike programming language</span>
          </a>
        </h1>
      </div>
    </header>
    <div id="page">
      <div class="navbar">
        <nav>
          <div class="inner" id="navbar">
            <a href='../../../../../index.html'><b class='top head'>Top</b></a>
<a href='../../../../../ex/predef_3A_3A/Protocols.html'><b class='head'>Protocols</b></a>
<a href='../../../../../ex/predef_3A_3A/Protocols/LDAP.html'><b class='head'>Protocols.LDAP</b></a>
<a href='../../../../../ex/predef_3A_3A/Protocols/LDAP/client.html'><b class='head'>Protocols.LDAP.client</b></a>
<script></script>
<noscript>
<div class='sidebar'>
<a href='../../../../../ex/predef_3A_3A/Protocols/LDAP/client/index.html'><b>Symbol index</b></a><br />
</div>
</noscript>

          </div>
        </nav>
      </div>
      <div class="content">
        <div class="navbox">
          <nav>
            <div class="sidebar">
              <a href="../../../../../ex/predef_3A_3A/Protocols/LDAP/client/reset_options.html" class="prev"><span>&#10148;</span> Protocols.LDAP.client()-&gt;reset_options()</a>
              <a href="../../../../../ex/predef_3A_3A/Protocols/LDAP/client/set_basedn.html" class="next">Protocols.LDAP.client()-&gt;set_basedn() <span>&#10148;</span></a>
            </div>
          </nav>
        </div>
        <div class="contentbox">
          <article>
            <h1>Method Protocols.LDAP.client()-&gt;search()</h1>
            

<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Method</span>
<span class='homogen--name'><b>search</b></span>
</dt>
<dd><p><code><code class='object resolved'><a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP/client/result.html'>result</a></code>|<code class='datatype'>int</code> <b><span class='method'>search</span>(</b><code class='datatype'>string</code>|<code class='datatype'>object</code>|<code class='datatype'>void</code> <code class='argument'>filter</code>, <code class='datatype'>array</code>(<code class='datatype'>string</code>)|<code class='datatype'>void</code> <code class='argument'>attrs</code>, <code class='datatype'>int</code>|<code class='datatype'>void</code> <code class='argument'>attrsonly</code>, <code class='datatype'>void</code>|<code class='datatype'>mapping</code>(<code class='datatype'>string</code>:<code class='datatype'>array</code>(<code class='datatype'>int</code>|<code class='datatype'>string</code>)) <code class='argument'>controls</code>, <code class='datatype'>void</code>|<code class='datatype'>int</code> <code class='argument'>flags</code><b>)</b></code></p></dd>

<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>Search LDAP directory.</p>
</dd>
<dt class='head--doc'><span id='p-filter'></span>Parameter <code class='parameter'>filter</code></dt>
<dd></dd><dd class='body--doc'><p>Search filter to override the one from the LDAP URL. It's
   either a string with the format specified in <b><a href='http://pike.lysator.liu.se/rfc2254.xml'>RFC 2254</a></b>, or an
   object returned by <a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP/make_filter.html'>Protocols.LDAP.make_filter</a>.</p>
</dd>
<dt class='head--doc'><span id='p-attrs'></span>Parameter <code class='parameter'>attrs</code></dt>
<dd></dd><dd class='body--doc'><p>The array of attribute names which will be returned by server
   for every entry.</p>
</dd>
<dt class='head--doc'><span id='p-attrsonly'></span>Parameter <code class='parameter'>attrsonly</code></dt>
<dd></dd><dd class='body--doc'><p>This flag causes server return only the attribute types (aka
   names) but not their values. The values will instead be empty
   arrays or - if <a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP.html'>Protocols.LDAP.SEARCH_MULTIVAL_ARRAYS_ONLY</a>
   is given - zeroes for single-valued attributes.</p>
</dd>
<dt class='head--doc'><span id='p-controls'></span>Parameter <code class='parameter'>controls</code></dt>
<dd></dd><dd class='body--doc'><p>Extra controls to send in the search query, to modify how the
   server executes the search in various ways. The value is a
   mapping with an entry for each control.</p>
<table class='box'><tr><td><code><code class='key'>object_identifier</code> : <code class='datatype'>string</code></code></td><td><p>The index is the object identifier in string form for the
     control type. There are constants in <a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP.html'>Protocols.LDAP</a> for
     the object identifiers for some known controls.</p>
<p>     The mapping value is an array of two elements:</p>
<table class='box'><tr><td colspan='2'>Array</td></tr>
<tr><td><code><code class='datatype'>int</code> <code class='key'>0</code></code></td><td><p>The first element is an integer flag that specifies
       whether the control is critical or not. If it is nonzero,
       the server returns an error if it doesn't understand the
       control. If it is zero, the server ignores it instead.</p>
</td></tr>
<tr><td><code><code class='datatype'>string</code>|<code class='datatype'>int(0..0)</code> <code class='key'>1</code></code></td><td><p>The second element is the string value to pass with the
       control. It may also be zero to not pass any value at all.</p>
</td></tr>
</table></td></tr>
</table>
</dd>
<dt class='head--doc'><span id='p-flags'></span>Parameter <code class='parameter'>flags</code></dt>
<dd></dd><dd class='body--doc'><p>Bitfield with flags to control various behavior at the client
   side of the search operation. See the
   <code class='expr'>Protocol.LDAP.SEARCH_*</code> constants for details.</p>
</dd>
<dt class='head--doc'>Returns</dt>
<dd class='body--doc'><p>Returns object <a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP/client/result.html'>LDAP.client.result</a> on success, <code class='expr'>0</code>
	otherwise.</p>
</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'><p>The API change: the returning code was changed in Pike 7.3+
	to follow his logic better.</p>
</dd>
<dt class='head--doc'>See also</dt>
<dd class='body--doc'><p><a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP/client/result.html'>result</a>, <a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP/client/result/fetch.html'>result.fetch</a>, <a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP/client/read.html'>read</a>, <a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP/client/get_supported_controls.html'>get_supported_controls</a>,
  <a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP/ldap_encode_string.html'>Protocols.LDAP.ldap_encode_string</a>, <a class='ms reference' href='../../../../predef_3A_3A/Protocols/LDAP/make_filter.html'>Protocols.LDAP.make_filter</a></p>
</dd></dl>

          </article>
        </div>
      </div>
    </div>
    <footer>
      <div id="build-date">Extracted from <strong data-id="version"></strong> as of <strong data-id="date"></strong>.</div>
    </footer>
    <script>PikeDoc.current = {"link":"ex/predef_3A_3A/Protocols/LDAP/client/search.html","name":"search"};</script>
<script src='../../../../../ex/predef_3A_3A/Protocols/LDAP/client/index.js'></script>
<script src='../../../../../ex/predef_3A_3A/Protocols/LDAP/client/load_index.js'></script>
    <script>
      // Tell PikeDoc that next actions are from loaded scripts
      PikeDoc.isInline = false;
    </script>
  </body>
</html>
