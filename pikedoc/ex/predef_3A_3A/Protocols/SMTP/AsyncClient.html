<!doctype html>
<html>
  <head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta charset="utf-8">
    <title>Pike Reference Manual - Protocols.SMTP.AsyncClient</title>
    <!-- 178 -->
    <link rel='stylesheet' href='../../../../style.css'>
    <script src='../../../../site.js'></script>
    <script src='../../../../pike_version.js'></script>
    <script src='../../../../timestamp.js'></script>
    <style type='text/css'>
svg line { stroke:#343434; stroke-width:2; }
svg text { fill:#343434; }
svg a { fill:#0768b2; text-decoration: underline; }
</style>

  </head>
  <body>
    <header>
      <div class="header">
        <div id="version"><strong data-id="version"></strong></div>
        <div id="burger">&#9776;</div><!-- Hamburger icon -->
        <h1>
          <a href="http://pike.lysator.liu.se/" class="logo">
            <span>Pike programming language</span>
          </a>
        </h1>
      </div>
    </header>
    <div id="page">
      <div class="navbar">
        <nav>
          <div class="inner" id="navbar">
            <a href='../../../../index.html'><b class='top head'>Top</b></a>
<a href='../../../../ex/predef_3A_3A/Protocols.html'><b class='head'>Protocols</b></a>
<a href='../../../../ex/predef_3A_3A/Protocols/SMTP.html'><b class='head'>Protocols.SMTP</b></a>
<b class='selected head'>Protocols.SMTP.AsyncClient</b>
<script></script>
<noscript>
<div class='sidebar'>
<a href='../../../../ex/predef_3A_3A/Protocols/SMTP/AsyncClient/index.html'><b>Symbol index</b></a><br />
</div>
</noscript>

          </div>
        </nav>
      </div>
      <div class="content">
        <div class="navbox">
          <nav>
            <div class="sidebar">
              <a href="../../../../ex/predef_3A_3A/Protocols/SMTP.html" class="prev"><span>&#10148;</span> Protocols.SMTP</a>
              <a href="../../../../ex/predef_3A_3A/Protocols/SMTP/AsyncClient/create.html" class="next">Protocols.SMTP.AsyncClient()-&gt;create() <span>&#10148;</span></a>
            </div>
          </nav>
        </div>
        <div class="contentbox">
          <article>
            <h1>Class Protocols.SMTP.AsyncClient</h1>
            
<dt class='head--doc'>Inheritance graph</dt>
<div class='inheritance-graph'><svg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' width='100%' height='65px'>
<text x='0' y='20'><tspan style='font-family:monospace;'>AsyncProtocol</tspan></text>
<text x='40' y='40'><a class='ms reference' xlink:href='../../../predef_3A_3A/Protocols/SMTP/ClientHelper.html'>Protocols.SMTP.ClientHelper</a></text>
<line x1='4' y1='55' x2='75' y2='55' />
<line x1='5' y1='25' x2='5' y2='56' />
<line x1='45' y1='45' x2='45' y2='56' />
<text x='80' y='60'><tspan style='font-family:monospace; font-weight:bold;'>Protocols.SMTP.AsyncClient</tspan></text>
</svg></div>
<dl class='group--doc'>
<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>Asynchronous (nonblocking/event-oriented) email client class (this lets
 you send emails).</p>
</dd></dl>

<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Inherit</span>
<span class='homogen--name'><b>AsyncProtocol</b></span>
</dt>
<dd><p><code><span class='datatype'>inherit </span><code class='reference unresolved'>AsyncProtocol</code> : <span class='inherit'>AsyncProtocol</span></code></p></dd>
</dl>


<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Inherit</span>
<span class='homogen--name'><b>ClientHelper</b></span>
</dt>
<dd><p><code><span class='datatype'>inherit </span><a class='ms reference' href='../../../predef_3A_3A/Protocols/SMTP/ClientHelper.html'>ClientHelper</a> : <span class='inherit'>ClientHelper</span></code></p></dd>
</dl>


<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Method</span>
<span class='homogen--name'><b>create</b></span>
</dt>
<dd><p><code><span class='object'>Protocols.SMTP.AsyncClient</span> <span class='class'>Protocols.SMTP.AsyncClient</span><b>(</b><code class='datatype'>void</code>|<code class='datatype'>string</code>|<code class='datatype'>object</code> <code class='argument'>server</code>, <code class='datatype'>int</code>|<code class='datatype'>void</code> <code class='argument'>port</code>, <code class='datatype'>function</code>(:<code class='datatype void'>void</code>)|<code class='datatype'>void</code> <code class='argument'>cb</code>, <code class='datatype'>mixed</code> ...  <code class='argument'>args</code><b>)</b></code></p></dd>

<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>Creates an SMTP mail client and connects it to the
 the <a class='ms reference' href='../../../predef_3A_3A/Protocols/SMTP/AsyncClient/create.html'>server</a> provided. The server parameter may
 either be a string with the hostname of the mail server,
 or it may be a file object acting as a mail server.
 If <a class='ms reference' href='../../../predef_3A_3A/Protocols/SMTP/AsyncClient/create.html'>server</a> is a string, then an optional port parameter
 may be provided. If no port parameter is provided, port
 25 is assumed. If no parameters at all is provided
 the client will look up the mail host by searching
 for the DNS MX record.</p>
<p> The callback will first be called when the connection is established
 (<code class='expr'>cb(1,&nbsp;@args)</code>) or fails to be established with an error. The
 callback will also be called with an error if one occurs during the
 delivery of mails.</p>
<p> In the error cases, the <code class='expr'>cb</code> gets called the following ways:</p>
<ul>
<li><p><code class='expr'>cb(({&nbsp;1,&nbsp;errno(),&nbsp;error_string,&nbsp;int(0..1)&nbsp;direct&nbsp;}),&nbsp;@args);</code></p>
</li><li><p><code class='expr'>cb(({&nbsp;0,&nbsp;smtp-errorcode,&nbsp;error_string,&nbsp;int(0..1)&nbsp;direct&nbsp;}),&nbsp;@args);</code></p>
</li></ul><p>Where <code class='expr'>direct</code> is <code class='expr'>1</code> if establishment of the connection
 failed.</p>
</dd></dl>

          </article>
        </div>
      </div>
    </div>
    <footer>
      <div id="build-date">Extracted from <strong data-id="version"></strong> as of <strong data-id="date"></strong>.</div>
    </footer>
    <script>PikeDoc.current = {"link":"ex/predef_3A_3A/Protocols/SMTP/AsyncClient.html","name":"AsyncClient"};</script>
<script src='../../../../ex/predef_3A_3A/Protocols/SMTP/index.js'></script>
<script src='../../../../ex/predef_3A_3A/Protocols/SMTP/AsyncClient/load_index.js'></script>
    <script>
      // Tell PikeDoc that next actions are from loaded scripts
      PikeDoc.isInline = false;
    </script>
  </body>
</html>
