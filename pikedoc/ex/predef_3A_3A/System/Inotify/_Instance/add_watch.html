<!doctype html>
<html>
  <head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta charset="utf-8">
    <title>Pike Reference Manual - System.Inotify._Instance()-&gt;add_watch()</title>
    <!-- 220-->
    <link rel='stylesheet' href='../../../../../style.css'>
    <script src='../../../../../site.js'></script>
    <script src='../../../../../pike_version.js'></script>
    <script src='../../../../../timestamp.js'></script>
    <style type='text/css'>
svg line { stroke:#343434; stroke-width:2; }
svg text { fill:#343434; }
svg a { fill:#0768b2; text-decoration: underline; }
</style>

  </head>
  <body>
    <header>
      <div class="header">
        <div id="version"><strong data-id="version"></strong></div>
        <div id="burger">&#9776;</div><!-- Hamburger icon -->
        <h1>
          <a href="http://pike.lysator.liu.se/" class="logo">
            <span>Pike programming language</span>
          </a>
        </h1>
      </div>
    </header>
    <div id="page">
      <div class="navbar">
        <nav>
          <div class="inner" id="navbar">
            <a href='../../../../../index.html'><b class='top head'>Top</b></a>
<a href='../../../../../ex/predef_3A_3A/System.html'><b class='head'>System</b></a>
<a href='../../../../../ex/predef_3A_3A/System/Inotify.html'><b class='head'>System.Inotify</b></a>
<a href='../../../../../ex/predef_3A_3A/System/Inotify/_Instance.html'><b class='head'>System.Inotify._Instance</b></a>
<script></script>
<noscript>
<div class='sidebar'>
<a href='../../../../../ex/predef_3A_3A/System/Inotify/_Instance/index.html'><b>Symbol index</b></a><br />
</div>
</noscript>

          </div>
        </nav>
      </div>
      <div class="content">
        <div class="navbox">
          <nav>
            <div class="sidebar">
              <a href="../../../../../ex/predef_3A_3A/System/Inotify/_Instance.html" class="prev"><span>&#10148;</span> System.Inotify._Instance</a>
              <a href="../../../../../ex/predef_3A_3A/System/Inotify/_Instance/get_event_callback.html" class="next">System.Inotify._Instance()-&gt;get_event_callback() <span>&#10148;</span></a>
            </div>
          </nav>
        </div>
        <div class="contentbox">
          <article>
            <h1>Method System.Inotify._Instance()-&gt;add_watch()</h1>
            

<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Method</span>
<span class='homogen--name'><b>add_watch</b></span>
</dt>
<dd><p><code><code class='datatype'>int</code> <b><span class='method'>add_watch</span>(</b><code class='datatype'>string</code> <code class='argument'>file</code>, <code class='datatype'>int</code> <code class='argument'>mask</code><b>)</b></code></p></dd>

<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>Add a watch for a certain file or directory and specific events.
 Adding more than one watch for one file will overwrite the
 previous watch unless <a class='ms reference' href='../../../../predef_3A_3A/System/Inotify.html'>System.Inotify.IN_MASK_ADD</a> is contained
 in the mask.</p>
</dd>
<dt class='head--doc'><span id='p-path'></span>Parameter <code class='parameter'>path</code></dt>
<dd></dd><dd class='body--doc'><p>Path of the file or directory.</p>
</dd>
<dt class='head--doc'><span id='p-mask'></span>Parameter <code class='parameter'>mask</code></dt>
<dd></dd><dd class='body--doc'><p>Integer mask specifying the event type. This can be a
	    combination of different event types using bitwise OR.
	    See the inotify manpage for possible values and their
	    description. The values defined by the inotify header
	    file are exported by <a class='ms reference' href='../../../../predef_3A_3A/System/Inotify.html'>System.Inotify</a> as constants
	    using the same names (e.g. <a class='ms reference' href='../../../../predef_3A_3A/System/Inotify.html'>System.Inotify.IN_CREATE</a>).</p>
</dd>
<dt class='head--doc'>Returns</dt>
<dd class='body--doc'><p>Returns a watch descriptor.</p>
</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'><p>Subdirectories are not watched. If you want to watch
	    subdirectories as well, you need to add watches for
	    them individually.</p>
</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'><p>At creation of a watch for a directory simulated
     <a class='ms reference' href='../../../../predef_3A_3A/System/Inotify.html'>IN_CREATE</a>-events with cookie <code class='expr'>0x7fffffff</code> will
     be added for the initial contents of the directory.
     This is to reduce the risk of losing state changes
     due to races. Note that is is not known whether these
     paths are in flux or not. Note also that there may
     be multiple notifications for content that is created
     at the moment the watch is created.</p>
</dd>
<dt class='head--doc'>See also</dt>
<dd class='body--doc'><p><a class='ms reference' href='../../../../predef_3A_3A/System/Inotify/_Instance/rm_watch.html'>rm_watch()</a>, <a class='ms reference' href='../../../../predef_3A_3A/System/Inotify/parse_event.html'>parse_event()</a></p>
</dd></dl>

          </article>
        </div>
      </div>
    </div>
    <footer>
      <div id="build-date">Extracted from <strong data-id="version"></strong> as of <strong data-id="date"></strong>.</div>
    </footer>
    <script>PikeDoc.current = {"link":"ex/predef_3A_3A/System/Inotify/_Instance/add_watch.html","name":"add_watch"};</script>
<script src='../../../../../ex/predef_3A_3A/System/Inotify/_Instance/index.js'></script>
<script src='../../../../../ex/predef_3A_3A/System/Inotify/_Instance/load_index.js'></script>
    <script>
      // Tell PikeDoc that next actions are from loaded scripts
      PikeDoc.isInline = false;
    </script>
  </body>
</html>
