<!doctype html>
<html>
  <head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta charset="utf-8">
    <title>Pike Reference Manual - __builtin.Sql.Connection</title>
    <!-- 178 -->
    <link rel='stylesheet' href='../../../../style.css'>
    <script src='../../../../site.js'></script>
    <script src='../../../../pike_version.js'></script>
    <script src='../../../../timestamp.js'></script>
    <style type='text/css'>
svg line { stroke:#343434; stroke-width:2; }
svg text { fill:#343434; }
svg a { fill:#0768b2; text-decoration: underline; }
</style>

  </head>
  <body>
    <header>
      <div class="header">
        <div id="version"><strong data-id="version"></strong></div>
        <div id="burger">&#9776;</div><!-- Hamburger icon -->
        <h1>
          <a href="http://pike.lysator.liu.se/" class="logo">
            <span>Pike programming language</span>
          </a>
        </h1>
      </div>
    </header>
    <div id="page">
      <div class="navbar">
        <nav>
          <div class="inner" id="navbar">
            <a href='../../../../index.html'><b class='top head'>Top</b></a>
<a href='../../../../ex/predef_3A_3A/__builtin.html'><b class='head'>__builtin</b></a>
<a href='../../../../ex/predef_3A_3A/__builtin/Sql.html'><b class='head'>__builtin.Sql</b></a>
<b class='selected head'>__builtin.Sql.Connection</b>
<script></script>
<noscript>
<div class='sidebar'>
<a href='../../../../ex/predef_3A_3A/__builtin/Sql/Connection/index.html'><b>Symbol index</b></a><br />
</div>
</noscript>

          </div>
        </nav>
      </div>
      <div class="content">
        <div class="navbox">
          <nav>
            <div class="sidebar">
              <a href="../../../../ex/predef_3A_3A/__builtin/Sql.html" class="prev"><span>&#10148;</span> __builtin.Sql</a>
              <a href="../../../../ex/predef_3A_3A/__builtin/Sql/Connection/big_query.html" class="next">__builtin.Sql.Connection()-&gt;big_query() <span>&#10148;</span></a>
            </div>
          </nav>
        </div>
        <div class="contentbox">
          <article>
            <h1>Class __builtin.Sql.Connection</h1>
            
<dt class='head--doc'>Inheritance graph</dt>
<div class='inheritance-graph'><svg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' width='100%' height='65px'>
<text x='0' y='20'><tspan style='font-family:monospace; font-weight:bold;'>__builtin.Sql.Connection</tspan></text>
<line x1='5' y1='25' x2='5' y2='56' />
<line x1='4' y1='35' x2='35' y2='35' />
<text x='40' y='40'><a class='ms reference' xlink:href='../../../predef_3A_3A/Sql/Connection.html'>Sql.Connection</a></text>
<line x1='4' y1='55' x2='35' y2='55' />
<text x='40' y='60'><a class='ms reference' xlink:href='../../../predef_3A_3A/Sql/null.html'>Sql.null</a></text>
</svg></div>
<dl class='group--doc'>
<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>This class is the base class for connections to SQL servers. It is a
 generic interface on top of which the DB server specific implement
 their specifics.</p>
<p> This class thus serves as an interface guideline for the DB server
 specific connection classes.</p>
<h2>Untyped and typed mode</h2>
<p>The query results are returned in different ways depending on the
   query functions used: The <tt>..typed_query</tt> functions select
   typed mode, while the other query functions uses the older untyped
   mode.</p>
<ul>
<li><p>In untyped mode, all values except SQL NULL are returned as
       strings in their display representation, and SQL NULL is returned
       as zero.</p>
</li><li><p>In typed mode, values are returned in pike native form where it
       works well. That means at least that SQL integer fields are
       returned as pike integers, floats as floats, SQL NULL as
       <a class='ms reference' href='../../../predef_3A_3A/Val.html'>Val.null</a>, and of course strings still as strings. The
       representation of other SQL types depend on the capabilities of
       the server specific backends. It's also possible that floats in
       some cases are represented in other ways if too much precision is
       lost in the conversion to pike floats.</p>
</li></ul>

</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'><p>For historical reasons, there may be server specific backends that
   operate differently from what is described here, e.g. some that
   return a bit of typed data in untyped mode.</p>
</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'><p>Typed operation was not supported at all prior to Pike 7.8.363,
   and may not be supported for all databases.</p>
</dd></dl>

<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Variable</span>
<span class='homogen--name'><b>case_convert</b></span>
</dt>
<dd><p><code><code class='datatype'>bool</code> __builtin.Sql.Connection.<b><span class='variable'>case_convert</span></b></code></p></dd>

<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>Convert all field names in mappings to <a class='ms reference' href='../../../predef_3A_3A/lower_case.html'>lower_case</a>.
 Only relevant to databases which only implement <a class='ms reference' href='../../../predef_3A_3A/__builtin/Sql/Connection/big_query.html'>big_query()</a>,
 and use upper/mixed-case fieldnames (eg Oracle).</p>
<table class='box'><tr><td><code><code class='key'>0</code></code></td><td><p>No (default)</p>
</td></tr>
<tr><td><code><code class='key'>1</code></code></td><td><p>Yes</p>
</td></tr>
</table>
</dd></dl>


<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Variable</span>
<span class='homogen--name'><b>master_sql</b></span>
</dt>
<dd><p><code><code class='deprecated'>__deprecated__</code> <code class='object resolved'><a class='ms reference' href='../../../predef_3A_3A/__builtin/Sql.html'>this_program</a></code> __builtin.Sql.Connection.<b><span class='variable'>master_sql</span></b></code></p></dd>

<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>Compatibility interface.</p>
<p> This used to be a variable containing the server specific
 connection object used for the actual SQL queries.</p>
<p> As the wrapper no longer exists, this symbol now
 just evaluates to the object.</p>
</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'><p>Read only</p>
</dd></dl>


<hr />
<dl class='group--doc'>
<dt class='head--type'><span class='homogen--type'>Method</span>
<span class='homogen--name'><b>create</b></span>
</dt>
<dd><p><code><span class='object'>__builtin.Sql.Connection</span> <span class='class'>__builtin.Sql.Connection</span><b>(</b><code class='datatype'>string</code> <code class='argument'>host</code><b>)</b></code><br>
<code><span class='object'>__builtin.Sql.Connection</span> <span class='class'>__builtin.Sql.Connection</span><b>(</b><code class='datatype'>string</code> <code class='argument'>host</code>, <code class='datatype'>string</code> <code class='argument'>db</code><b>)</b></code><br>
<code><span class='object'>__builtin.Sql.Connection</span> <span class='class'>__builtin.Sql.Connection</span><b>(</b><code class='datatype'>string</code> <code class='argument'>host</code>, <code class='datatype'>mapping</code>(<code class='datatype'>string</code>:<code class='datatype'>int</code>|<code class='datatype'>string</code>) <code class='argument'>options</code><b>)</b></code><br>
<code><span class='object'>__builtin.Sql.Connection</span> <span class='class'>__builtin.Sql.Connection</span><b>(</b><code class='datatype'>string</code> <code class='argument'>host</code>, <code class='datatype'>string</code> <code class='argument'>db</code>, <code class='datatype'>string</code> <code class='argument'>user</code><b>)</b></code><br>
<code><span class='object'>__builtin.Sql.Connection</span> <span class='class'>__builtin.Sql.Connection</span><b>(</b><code class='datatype'>string</code> <code class='argument'>host</code>, <code class='datatype'>string</code> <code class='argument'>db</code>, <code class='datatype'>string</code> <code class='argument'>user</code>, <code class='datatype'>string</code> <code class='argument'>password</code><b>)</b></code><br>
<code><span class='object'>__builtin.Sql.Connection</span> <span class='class'>__builtin.Sql.Connection</span><b>(</b><code class='datatype'>string</code> <code class='argument'>host</code>, <code class='datatype'>string</code> <code class='argument'>db</code>, <code class='datatype'>string</code> <code class='argument'>user</code>, <code class='datatype'>string</code> <code class='argument'>password</code>, <code class='datatype'>mapping</code>(<code class='datatype'>string</code>:<code class='datatype'>int</code>|<code class='datatype'>string</code>) <code class='argument'>options</code><b>)</b></code></p></dd>

<dt class='head--doc'>Description</dt>
<dd class='body--doc'><p>Create a new SQL connection.</p>
</dd>
<dt class='head--doc'><span id='p-host'></span>Parameter <code class='parameter'>host</code></dt>
<dd></dd><dd class='body--doc'><table class='box'><tr><td><code><code class='datatype'>string</code></code></td><td><p>Connect to the server specified.</p>
</td></tr>
<tr><td><code><code class='datatype'>int(0..0)</code></code></td><td><p>Access through a UNIX-domain socket or similar.</p>
</td></tr>
</table>
</dd>
<dt class='head--doc'><span id='p-db'></span>Parameter <code class='parameter'>db</code></dt>
<dd></dd><dd class='body--doc'><p>Select this database.</p>
</dd>
<dt class='head--doc'><span id='p-user'></span>Parameter <code class='parameter'>user</code></dt>
<dd></dd><dd class='body--doc'><p>User name to access the database as.</p>
</dd>
<dt class='head--doc'><span id='p-password'></span>Parameter <code class='parameter'>password</code></dt>
<dd></dd><dd class='body--doc'><p>Password to access the database.</p>
</dd>
<dt class='head--doc'><span id='p-options'></span>Parameter <code class='parameter'>options</code></dt>
<dd></dd><dd class='body--doc'><p>Optional mapping of options.
   See the SQL-database documentation for the supported options.
   (eg <a class='ms reference' href='../../../predef_3A_3A/Mysql/mysql/create.html'>Mysql.mysql()-&gt;create()</a>).</p>
</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'><p>Support for <a class='ms reference' href='../../../predef_3A_3A/__builtin/Sql/Connection/create.html'>options</a> was added in Pike 7.3.</p>
</dd>
<dt class='head--doc'>Note</dt>
<dd class='body--doc'><p>The base class (<a class='ms reference' href='../../../predef_3A_3A/__builtin/Sql/Connection.html'>__builtin.Sql.Connection</a>) only has a prototype.</p>
</dd></dl>

          </article>
        </div>
      </div>
    </div>
    <footer>
      <div id="build-date">Extracted from <strong data-id="version"></strong> as of <strong data-id="date"></strong>.</div>
    </footer>
    <script>PikeDoc.current = {"link":"ex/predef_3A_3A/__builtin/Sql/Connection.html","name":"Connection"};</script>
<script src='../../../../ex/predef_3A_3A/__builtin/Sql/index.js'></script>
<script src='../../../../ex/predef_3A_3A/__builtin/Sql/Connection/load_index.js'></script>
    <script>
      // Tell PikeDoc that next actions are from loaded scripts
      PikeDoc.isInline = false;
    </script>
  </body>
</html>
